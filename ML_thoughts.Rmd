---
title: "Why mgcv is awesome"
author: "Chris Mainey"
date: '`r Sys.Date()`'
output:
  xaringan::moon_reader:
    lib_dir: libs
    css: xaringan-themer.css
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      ratio: 191:100
    seal: false
    
---

```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
knitr::opts_chunk$set(fig.width=10, fig.height=6, fig.align = "center", 
                      dev.args = list(png = list(type = "cairo")), fig.retina=3) 
library(Cairo)
```


<br><br>

# Thoughts on Machine Learning

.pull-left[

<br><br><br>
<br><br>
__Chris Mainey__

_Patient Safet Lead - System Analysis & Delivery, NHSE/I_

`r icons::fontawesome$solid$envelope` c.mainey@nhs.net

`r icons::fontawesome$solid$globe` [mainard.co.uk](https://www.mainard.co.uk)

`r icons::fontawesome$brands$github` [github.com/chrismainey](https://github.com/chrismainey)

`r icons::fontawesome$brands$twitter` [twitter.com/chrismainey](https://twitter.com/chrismainey)

]

.pull-right[
<center>
<img src ="man/figures/Picture1.png">
</center>
]



---

# What is machine learing?


> Machine-learning algorithms use statistics to find patterns in massive amounts of data. And data, here, encompasses a lot of things—numbers, words, images, clicks, what have you. If it can be digitally stored, it can be fed into a machine-learning algorithm.

- [MIT review ](https://www.technologyreview.com/2018/11/17/103781/what-is-machine-learning-we-drew-you-another-flowchart/)

<center>
<img src ="https://imgs.xkcd.com/comics/computers_vs_humans.png" align="middle" width="700">
</center>

---

# What is machine learning, really?

+ Is it statistics?

Yes, sort of.

+ Is it AI?  

Yes, sort of.

--

> “There are two cultures in the use of statistical modeling to reach conclusions from data. One assumes that the data are generated by a given stochastic data model. The other uses algorithmic models and treats the data mechanism as unknown. The statistical community has been committed to the almost exclusive use of data models.”
- Leo Breiman - Statistical modeling: The two cultures. Statist. Sci. 16 199–215.

--

> "Conflation between explanation and prediction is common, yet the distinction must be understood for progressing
scientific knowledge"
- Galit Shmueli - Statistical Science, 2010, Vol. 25, No. 3, 289–310

--

___I'd argue that most applications of 'AI' could equally be described as ML or staistics___


---

# Where is it being used?

__All over the place__


+ Prediction and forecasting

+ Search engines

+ Image analysis

Some recent uses in NHS:

+ Reading imaging data, such as mammography scans - EMRAD

+ CogStack - Kings & South London and Maudsley

+ Predicting hospital attendance /non-attendance - UCLH / UCL

+ Analysis of patient experience data - Notts Healthcare

---

# My opinioned framework:


Yes, that's a little pretentious...


+ What is your question?
+ What's in there?
+ Right-tool for the right job
+ Is it any good?
+ Letting people know


### ...with and over reliance on XKCD..._ www.xkcd.com

---

# What is your question?

.pull-left[
__Manager:__ Can you pull me some data on it please?

__Statistician:__ _...erm, maybe.  What's your question.

__Manager:__ Has anything changed in the last year?

__Statistician:__ By 'anything,' what do you mean?  I'm happy to have a look at it?

__Manager:__ Great, can you predict next year?

__Statistician:__ Maybe, but what is the thing in question? 

__Manager:__ Well, I think you should check all sorts of things.  Might be things we don't know about.

__Statistician:__ Pretty hard to answer if it's not clear.

__Manager:__ I don't see why it's so hard. Can't you just check and see if you can find anything?

__Statistician:__ ...erm, again, what is your question?
]

--

.pull-right[

<center>
<img src =https://imgs.xkcd.com/comics/correlation.png>
</center>
__Important to know your target. __

Are you:
+ Finding patterns?
+ Identifying similar data items?
+ Looking for distributions?
+ Wanting to know about correlations?
+ Predicting events based on attributes, time etc.
+ Reduce complexity

]

---

# What's in there?

.pull-left[
Is your dataset suitable for the task at hand?

+ What is the 'event'?
  + How well represented is it in the data?
  + Do you have enough?
  
+ 'Missingness'

+ Coverage

+ Correlations/relationships in data

]

.pull-right[
<center>
<img src = https://imgs.xkcd.com/comics/extrapolating.png>
/<center>
]

---

# Right-tool for the right job?

.pull-left[

+ Does your model do what you think it does?

+ What are the assumptions behind it?

+ Does it need to be deep learning?

+ Does a simpler model work better?

+ Do you have enough events for it?

]

.pull-right[
<center>
<img src = https://imgs.xkcd.com/comics/trained_a_neural_net.png>
</center>

]



---

# Is it any good?


.pull-left[

+ Does it work?

+ What did you train it on?

+ How did you check:
  + Metric?
  + Testing set?
  + A proper test set, not just a validation set / random split
  + Cross-validation / bootstrapping if nothing else
  
+ How does someone else apply it?

+ Is it reproducible?

+ __BIAS!__  

]

.pull-right[
<center>
<img src = https://imgs.xkcd.com/comics/machine_learning.png>
</center>
]

---

# Letting people know

.pull-left[

+ There are not many of us want the technical detail, but some do

+ Who is your audience?
  + How will they understand and use it?
  + How do you convey this to the patients and the public?

+ How would you publicise it?

+ How does it get put into practise?
  

]

.pull-right[

<br><br>

<center>
<img src = https://imgs.xkcd.com/comics/prediction.png>
</center>
]
---

# Summary

.pull-left[

<br><br>
### ML is cool.



<br><br>
###...but lets do it well!

]



.pull-right[
<br><br>

### What is you question?

### What's in there?

### Right-tool for the right job?

### Is it any good?

### Letting people know

]